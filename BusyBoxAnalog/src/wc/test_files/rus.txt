Теперь мы можем найти наши файлы, но нам может понадобиться больше метаинформации отом, что находится в этих файлах. Давайте реализуем wcутилиту -like для сбора базовой статистики о наших файлах.
Для начала предположим, что наши файлы — это текстовые файлы в кодировке utf-8, поэтому ваш код должен работать и с текстами на русском языке (забудьте пока о таких особых случаях, как арабский, требуются только английский и русский языки). Также вы можете игнорировать знаки препинания и просто считать пробелы единственными разделителями слов.
Вам нужно будет реализовать три взаимоисключающих (можно указать только один за раз, иначе будет выведено сообщение об ошибке) флага для вашего кода: -lдля подсчета строк, -mдля подсчета символов и -wдля подсчета слов. Ваша программа должна быть работоспособной, например:
Как вы можете видеть, ответ всегда представляет собой вычисленное число и имя файла, разделенное табуляцией ( \t). Если флаги не указаны, -w следует использовать поведение.
Важно : поскольку все файлы независимы, следует использовать горутины для их параллельной обработки. Можно запустить столько горутинов, сколько входных файлов указано для программы.